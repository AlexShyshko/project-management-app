<div class="board-wrapper" [ngStyle]="{'background-image': 'url(' + backgroundImage + ')'}">
  <div class="wrapper">

    <div class="board-container" *ngIf="board$ | async as board">
      <h1 class="page-title">Current workspace - {{board.title}}</h1>
      <div class="columns-container">

        <div class="column-container" *ngFor="let column of board.columns">

          <h2 class="column-title" *ngIf="!isEditEnable || columnId !== column.id"
            (click)="editColumn(column.id)">{{column.title}}</h2>
          <div class="column-title-block" *ngIf="isEditEnable && columnId === column.id">
            <button mat-icon-button (click)="submitTitle(board.id, column)">
              <mat-icon>check_circle</mat-icon>
            </button>
            <button mat-icon-button (click)="isEditEnable = !isEditEnable">
              <mat-icon>cancel</mat-icon>
            </button>
            <mat-form-field appearance="fill" >
              <input matInput placeholder="{{column.title}}" [(ngModel)]="title">
            </mat-form-field>
          </div>

          <div class="current-cards" *ngFor="let task of column.tasks">
            <h5 class="card-title"(click)="openModalEditTask()">{{task.title}}</h5>
          </div>

          <div class="column-control-buttons">
            <button mat-icon-button class="add-new-column" (click)="openModalCreateTask(board.id, column.id)">
              <mat-icon>add_circle_outline</mat-icon>
              Add new task
            </button>
            <button mat-icon-button (click)="openDialog(board.id, column.id)">
              <mat-icon>delete</mat-icon>
            </button>
          </div>
        </div>

        <div class="column-container new-column">
          <button mat-icon-button class="add-new-column"
            (click)="openModalCreateColumn(board.id)">
              <mat-icon>add_circle_outline</mat-icon>
              Add new column
          </button>
        </div>

      </div>
    </div>
  </div>
</div>

<!-- <div class="current-board__wrapper">
  <p class="board-title" *ngIf="board$ | async as board">{{board.title}}</p>
  <div class="board-container" *ngIf="board$ | async as board">
    <div class="columns-container" *ngFor="let column of board.columns">
      <mat-form-field class="example-full-width" *ngIf="isEditEnable && columnId === column.id">
        <input matInput placeholder="{{column.title}}" [(ngModel)]="title">
        <button mat-icon-button (click)="submitTitle(board.id, column)">
          <mat-icon>check</mat-icon>
        </button>
        <button mat-icon-button (click)="isEditEnable = !isEditEnable">
          <mat-icon>cancel</mat-icon>
        </button>
      </mat-form-field>
      <span class="column-title" *ngIf="!isEditEnable || columnId !== column.id" (click)="editColumn(column.id)">{{column.title}}</span>
      <div class="task-container" *ngFor="let task of column.tasks">
        {{task.title}}
        <button mat-icon-button (click)="openDialog('', '', task)">
          <mat-icon>delete</mat-icon>
        </button>
      </div>
      <button mat-icon-button (click)="addTask(board.id, column.id)">
        <mat-icon>add</mat-icon> Add task
      </button>
      <button mat-icon-button (click)="openDialog(board.id, column.id)">
        <mat-icon>delete</mat-icon> Delete column
      </button>
    </div>
    <button mat-icon-button class="column-btn" (click)="addColumn(board.id)">
      <mat-icon>add</mat-icon> Add column
    </button> -->
  <!-- </div>
  <button class="back-btn" [routerLink]="['/main']" mat-raised-button>main</button>
</div> -->
